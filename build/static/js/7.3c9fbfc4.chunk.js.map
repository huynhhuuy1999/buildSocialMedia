{"version":3,"sources":["features/newFeed/newFeed.jsx","features/formStatus/formStatus.jsx","assets/18062020_2.jpg","components/avatar/avatar.jsx","components/iconLike/iconLike.jsx","features/itemComment/itemComment.jsx","features/post/post.jsx"],"names":["NewFeed","props","useState","listPost","setListPost","userId","useSelector","state","user","x","useEffect","axios","get","then","res","post","data","listUserId","list","map","item","friend","time","console","log","undefined","moment","format","name","status","content","count","countLike","idPost","_id","comment","avatar","FormStatus","setStatus","flagPost","setFlagPost","placeholder","className","width","height","url","value","onChange","e","target","icon","faCamera","onClick","catch","err","handleAddPost","Avatar","src","IconLike","offset","href","ItemComment","flagDelComment","setFlagDelComment","alert","useAlert","isFriend","Axios","postId","commentId","id","show","Post","flagDelPost","setFlagDelPost","setCountLike","setCommnet","listComment","setListComment","handleLike","a","faTrash","type","onKeyPress","event","key","postRes","index","timeComment"],"mappings":"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","file":"static/js/7.3c9fbfc4.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport \"./style.scss\";\r\nimport Post from \"../post/post\";\r\nimport { useSelector } from \"react-redux\";\r\nimport moment from \"moment\";\r\n\r\nexport default function NewFeed(props) {\r\n  const [listPost, setListPost] = useState([]);\r\n  const userId = useSelector((state) => state.user.userId);\r\n  const x = props.x;\r\n\r\n  useEffect(() => {\r\n    axios.get(\"/user/getuserid/\" + userId).then((res) => {\r\n      axios\r\n        .post(\"/post/listpost\", {\r\n          userId: res.data.listUserId,\r\n        })\r\n        .then((res) => {\r\n          setListPost(res.data.list);\r\n        });\r\n    });\r\n  }, [x]);\r\n  return (\r\n    <div>\r\n      {listPost.map((item) => {\r\n        let friend = 1;\r\n        let time = \"\";\r\n        console.log(item.time);\r\n        if (item.userId === userId) friend = 0;\r\n        if(item.time===undefined){\r\n          \r\n        }\r\n        else{\r\n          time = moment(item.time).format(\"DD-MM-YYYY hh:mm a\");\r\n        }\r\n        return (\r\n          <Post\r\n            name={item.name}\r\n            status={item.content}\r\n            time={time}\r\n            count={item.countLike}\r\n            friend={friend}\r\n            key={item._id}\r\n            idPost={item._id}\r\n            comment={item.comment}\r\n            avatar={item.avatar}\r\n          />\r\n        );\r\n      })}\r\n      {x}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCamera } from \"@fortawesome/free-solid-svg-icons\";\r\nimport Avatar from \"../../components/avatar/avatar\";\r\nimport \"./style.scss\";\r\nimport { useSelector } from \"react-redux\";\r\nimport NewFeed from \"../newFeed/newFeed\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nexport default function FormStatus() {\r\n  const [status, setStatus] = useState(\"\");\r\n  const name = useSelector((state) => state.user.name);\r\n  const userId = useSelector((state) => state.user.userId);\r\n  const avatar = useSelector((state)=>state.user.avatar);\r\n  const [flagPost, setFlagPost] = useState(true);\r\n  const placeholder = `What's on your mind, ${name}`;\r\n  const handleAddPost = (status) => {\r\n    axios\r\n      .post(\"/post/addpost\", {\r\n        userId: userId,\r\n        content: status,\r\n        name: name,\r\n        avatar:avatar\r\n      })\r\n      .then((res) => {\r\n        setStatus(\"\");\r\n        setFlagPost(!flagPost);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"form-status border\">\r\n        <div className=\"header-form-status d-flex p-2\">\r\n          <Avatar width={30} height={30} url={`/uploads/${avatar}`}/>\r\n          <span className=\"name\">{name}</span>\r\n        </div>\r\n        <div className=\"c-input-status p-2\">\r\n          <span>Add a status</span>\r\n          <br />\r\n          <textarea\r\n            value={status}\r\n            className=\"p-2 border\"\r\n            placeholder={placeholder}\r\n            onChange={(e) => setStatus(e.target.value)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <div className=\"icon-photo p-2\">\r\n            <FontAwesomeIcon icon={faCamera} />\r\n          </div>\r\n        </div>\r\n        <div className=\"footer-form-status p-2\">\r\n          <button onClick={() => handleAddPost(status)}>Post</button>\r\n        </div>\r\n      </div>\r\n      <div className=\"mt-4\">\r\n        <NewFeed x={flagPost} />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/18062020_2.2c21b9f5.jpg\";","import React from 'react'\r\nimport \"./style.scss\";\r\nimport image from \"../../assets/18062020_2.jpg\";\r\n\r\nexport default function Avatar(props) {\r\n    return (\r\n        <div className=\"ava\">\r\n            {/* <img src={image} width={props.width} height={props.height}/> */}\r\n            <img src={props.url} width={props.width} height={props.height}/> \r\n        </div>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport { Badge } from \"antd\";\r\nimport \"./style.scss\";\r\n\r\nexport default function IconLike(props) {\r\n  return (\r\n    <div className=\"like\">\r\n      <button onClick={props.onClick}>Thích</button>\r\n      <Badge count={props.count} offset={[-10, -20]}>\r\n        <a href=\"#\" className=\"head-example\" />\r\n      </Badge>\r\n    </div>\r\n  );\r\n}\r\n","import Axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\nimport { useAlert } from \"react-alert\";\r\nimport Avatar from \"../../components/avatar/avatar\";\r\nimport \"./style.scss\";\r\n\r\nexport default function ItemComment(props) {\r\n  const [flagDelComment,setFlagDelComment] = useState(0);\r\n  const alert = useAlert();\r\n  const handleDeleteComment = ()=>{\r\n    Axios.post(\"/post/delcomment\",{\r\n      postId: props.postId,\r\n      commentId: props.id\r\n    }).then(res=>{\r\n      if(res.data.status===\"success\"){\r\n        setFlagDelComment(1);\r\n        alert.show(\"Comment Deleted\");\r\n      }\r\n      else{\r\n        alert.show(\"ERROR\");\r\n      }\r\n    }).catch(err=>{\r\n      console.log(err);\r\n    })\r\n  }\r\n  return (\r\n    flagDelComment===0?(\r\n      <div className=\"d-flex item-comment border-bottom border-secondary pb-1 pt-2\">\r\n      <Avatar width={40} height={40} url={`/uploads/${props.avatar}`}/>\r\n      <div className=\"pl-1 pr-1\">\r\n        <span className=\"name-comment\">{props.name}</span>\r\n        <br />\r\n        <span className=\"c-comment\">{props.content}</span>\r\n        <br />\r\n        <span className=\"time\">{props.time}</span>\r\n        <br/>\r\n        {\r\n          props.isFriend===0?<span className=\"comment-del\" onClick={()=>handleDeleteComment()}>Xóa</span>:\"\"\r\n        }\r\n      </div>\r\n    </div>\r\n    ):\"\"\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTrash } from \"@fortawesome/free-solid-svg-icons\";\r\nimport Avatar from \"../../components/avatar/avatar\";\r\nimport IconLike from \"../../components/iconLike/iconLike\";\r\nimport ItemComment from \"../itemComment/itemComment\";\r\nimport \"./style.scss\";\r\nimport axios from \"axios\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useAlert } from \"react-alert\";\r\nimport moment from \"moment\";\r\n\r\nexport default function Post(props) {\r\n  const idPost = props.idPost;\r\n  const [flagDelPost, setFlagDelPost] = useState(false);\r\n  const [countLike, setCountLike] = useState(props.count);\r\n  const [comment, setCommnet] = useState(\"\");\r\n  const userId = useSelector((state) => state.user.userId);\r\n  const name = useSelector((state) => state.user.name);\r\n  const avatar = useSelector((state) => state.user.avatar);\r\n  const [listComment, setListComment] = useState(props.comment);\r\n  const alert = useAlert();\r\n  const handleLike = async () => {\r\n    // await setCountLike(countLike + 1);\r\n    axios\r\n      .post(\"/post/like\", {\r\n        postId: idPost,\r\n        countLike: countLike + 1,\r\n      })\r\n      .then((res) => {\r\n        setCountLike(countLike + 1);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  const handleDelPost = () => {\r\n    axios.post(\"/post/delpost\", { postId: idPost }).then((res) => {\r\n      if (res.data.status === \"success\") {\r\n        setFlagDelPost(true);\r\n        alert.show(\"Post deleted\");\r\n      }\r\n    });\r\n  };\r\n  \r\n  const handleAddComment = (event) => {\r\n    if (comment !== \"\") {\r\n      if (event.key === \"Enter\") {\r\n        axios\r\n          .post(\"/post/addcomment\", {\r\n            userId: userId,\r\n            comment: comment,\r\n            name: name,\r\n            postId: idPost,\r\n            avatar:avatar\r\n          })\r\n          .then((res) => {\r\n            setListComment(res.data.postRes);\r\n          })\r\n          .then((res) => {\r\n            setCommnet(\"\");\r\n          })\r\n          .catch((err) => console.log(err));\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      {flagDelPost === true ? (\r\n        \"\"\r\n      ) : (\r\n        <div className=\"new-feed border mt-2\">\r\n          <div className=\"header-new-feed p-2 d-flex\">\r\n            <div className=\"d-flex info\">\r\n              <Avatar width={40} height={40} url={`/uploads/${props.avatar}`}/>\r\n              <div className=\"name ml-1 mr-1\">\r\n                <span className=\"name-x\">{props.name}</span>\r\n                <br />\r\n                <span>{props.time}</span>\r\n              </div>\r\n            </div>\r\n            {props.friend === 0 ? (\r\n              <div className=\"icon-del\" onClick={() => handleDelPost()}>\r\n                <FontAwesomeIcon icon={faTrash} />\r\n              </div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n          <div className=\"c-newfeed p-2 bg-light\">\r\n            <p className=\"status\">{props.status}</p>\r\n            <div className=\"list-emoji d-flex\">\r\n              <IconLike count={countLike} onClick={() => handleLike()} />\r\n            </div>\r\n          </div>\r\n          <div className=\"comment pl-2 pt-4 pr-2 d-flex\">\r\n            <Avatar width={40} height={40} url={`/uploads/${props.avatar}`}/>\r\n            <div className=\"input-comment ml-2\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Add comment\"\r\n                className=\"p-2\"\r\n                onChange={(e) => setCommnet(e.target.value)}\r\n                value={comment}\r\n                onKeyPress={(e) => handleAddComment(e)}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"comment pl-2 pt-4 pb-4 pr-2\">\r\n            {listComment.map((item, index) => {\r\n              let friend = 1;\r\n              if (item.userId === userId) friend = 0;\r\n              return (\r\n                <ItemComment\r\n                  name={item.name}\r\n                  content={item.content}\r\n                  time={item.timeComment}\r\n                  key={index}\r\n                  isFriend={friend}\r\n                  id={item._id}\r\n                  postId={idPost}\r\n                  avatar={item.avatar}\r\n                />\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}