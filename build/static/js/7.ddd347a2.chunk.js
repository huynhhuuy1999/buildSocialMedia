(this["webpackJsonpsocial-media-app"]=this["webpackJsonpsocial-media-app"]||[]).push([[7],{138:function(t,e,c){},139:function(t,e,c){},184:function(t,e,c){"use strict";c.r(e),c.d(e,"default",(function(){return p}));var n=c(49),s=c(1),a=c(0),r=c(50),o=c.n(r),i=c(65),d=c(66),u=c(53),j=(c(138),c(11)),l=(c(139),c(87)),m=c(75),b=c.n(m);function h(t){var e=Object(a.useState)([]),c=Object(n.a)(e,2),r=c[0],i=c[1],d=Object(j.c)((function(t){return t.user.userId})),u=t.x;return Object(a.useEffect)((function(){o.a.get("/user/getuserid/"+d).then((function(t){o.a.post("/post/listpost",{userId:t.data.listUserId}).then((function(t){i(t.data.list)}))}))}),[u]),Object(s.jsxs)("div",{children:[r.map((function(t){var e=1,c="";return console.log(t.time),t.userId===d&&(e=0),void 0===t.time||(c=b()(t.time).format("DD-MM-YYYY hh:mm a")),Object(s.jsx)(l.a,{name:t.name,status:t.content,time:c,count:t.countLike,friend:e,idPost:t._id,comment:t.comment,avatar:t.avatar},t._id)})),u]})}function p(){var t=Object(a.useState)(""),e=Object(n.a)(t,2),c=e[0],r=e[1],l=Object(j.c)((function(t){return t.user.name})),m=Object(j.c)((function(t){return t.user.userId})),b=Object(j.c)((function(t){return t.user.avatar})),p=Object(a.useState)(!0),O=Object(n.a)(p,2),f=O[0],x=O[1],v="What's on your mind, ".concat(l);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"form-status border",children:[Object(s.jsxs)("div",{className:"header-form-status d-flex p-2",children:[Object(s.jsx)(u.a,{width:30,height:30,url:"http://localhost:9080/uploads/".concat(b)}),Object(s.jsx)("span",{className:"name",children:l})]}),Object(s.jsxs)("div",{className:"c-input-status p-2",children:[Object(s.jsx)("span",{children:"Add a status"}),Object(s.jsx)("br",{}),Object(s.jsx)("textarea",{value:c,className:"p-2 border",placeholder:v,onChange:function(t){return r(t.target.value)}})]}),Object(s.jsx)("div",{children:Object(s.jsx)("div",{className:"icon-photo p-2",children:Object(s.jsx)(i.a,{icon:d.a})})}),Object(s.jsx)("div",{className:"footer-form-status p-2",children:Object(s.jsx)("button",{onClick:function(){return function(t){o.a.post("/post/addpost",{userId:m,content:t,name:l,avatar:b}).then((function(t){r(""),x(!f)})).catch((function(t){console.log(t)}))}(c)},children:"Post"})})]}),Object(s.jsx)("div",{className:"mt-4",children:Object(s.jsx)(h,{x:f})})]})}},53:function(t,e,c){"use strict";c.d(e,"a",(function(){return s}));var n=c(1);c(0),c(61),c.p;function s(t){return Object(n.jsx)("div",{className:"ava",children:Object(n.jsx)("img",{src:t.url,width:t.width,height:t.height})})}},61:function(t,e,c){},77:function(t,e,c){},81:function(t,e,c){},82:function(t,e,c){},87:function(t,e,c){"use strict";c.d(e,"a",(function(){return x}));var n=c(98),s=c.n(n),a=c(100),r=c(49),o=c(1),i=c(0),d=c(65),u=c(66),j=c(53),l=c(194);c(77);function m(t){return Object(o.jsxs)("div",{className:"like",children:[Object(o.jsx)("button",{onClick:t.onClick,children:"Th\xedch"}),Object(o.jsx)(l.a,{count:t.count,offset:[-10,-20],children:Object(o.jsx)("a",{href:"#",className:"head-example"})})]})}var b=c(50),h=c.n(b),p=c(15);c(81);function O(t){var e=Object(i.useState)(0),c=Object(r.a)(e,2),n=c[0],s=c[1],a=Object(p.d)();return 0===n?Object(o.jsxs)("div",{className:"d-flex item-comment border-bottom border-secondary pb-1 pt-2",children:[Object(o.jsx)(j.a,{width:40,height:40,url:"http://localhost:9080/uploads/".concat(t.avatar)}),Object(o.jsxs)("div",{className:"pl-1 pr-1",children:[Object(o.jsx)("span",{className:"name-comment",children:t.name}),Object(o.jsx)("br",{}),Object(o.jsx)("span",{className:"c-comment",children:t.content}),Object(o.jsx)("br",{}),Object(o.jsx)("span",{className:"time",children:t.time}),Object(o.jsx)("br",{}),0===t.isFriend?Object(o.jsx)("span",{className:"comment-del",onClick:function(){h.a.post("/post/delcomment",{postId:t.postId,commentId:t.id}).then((function(t){"success"===t.data.status?(s(1),a.show("Comment Deleted")):a.show("ERROR")})).catch((function(t){console.log(t)}))},children:"X\xf3a"}):""]})]}):""}c(82);var f=c(11);c(75);function x(t){var e=t.idPost,c=Object(i.useState)(!1),n=Object(r.a)(c,2),l=n[0],b=n[1],x=Object(i.useState)(t.count),v=Object(r.a)(x,2),N=v[0],g=v[1],w=Object(i.useState)(""),I=Object(r.a)(w,2),k=I[0],C=I[1],S=Object(f.c)((function(t){return t.user.userId})),y=Object(f.c)((function(t){return t.user.name})),P=Object(f.c)((function(t){return t.user.avatar})),R=Object(i.useState)(t.comment),Y=Object(r.a)(R,2),D=Y[0],E=Y[1],F=Object(p.d)(),_=function(){var t=Object(a.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h.a.post("/post/like",{postId:e,countLike:N+1}).then((function(t){g(N+1)})).catch((function(t){console.log(t)}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(o.jsx)("div",{children:!0===l?"":Object(o.jsxs)("div",{className:"new-feed border mt-2",children:[Object(o.jsxs)("div",{className:"header-new-feed p-2 d-flex",children:[Object(o.jsxs)("div",{className:"d-flex info",children:[Object(o.jsx)(j.a,{width:40,height:40,url:"http://localhost:9080/uploads/".concat(t.avatar)}),Object(o.jsxs)("div",{className:"name ml-1 mr-1",children:[Object(o.jsx)("span",{className:"name-x",children:t.name}),Object(o.jsx)("br",{}),Object(o.jsx)("span",{children:t.time})]})]}),0===t.friend?Object(o.jsx)("div",{className:"icon-del",onClick:function(){h.a.post("/post/delpost",{postId:e}).then((function(t){"success"===t.data.status&&(b(!0),F.show("Post deleted"))}))},children:Object(o.jsx)(d.a,{icon:u.c})}):""]}),Object(o.jsxs)("div",{className:"c-newfeed p-2 bg-light",children:[Object(o.jsx)("p",{className:"status",children:t.status}),Object(o.jsx)("div",{className:"list-emoji d-flex",children:Object(o.jsx)(m,{count:N,onClick:function(){return _()}})})]}),Object(o.jsxs)("div",{className:"comment pl-2 pt-4 pr-2 d-flex",children:[Object(o.jsx)(j.a,{width:40,height:40,url:"http://localhost:9080/uploads/".concat(t.avatar)}),Object(o.jsx)("div",{className:"input-comment ml-2",children:Object(o.jsx)("input",{type:"text",placeholder:"Add comment",className:"p-2",onChange:function(t){return C(t.target.value)},value:k,onKeyPress:function(t){return c=t,void(""!==k&&"Enter"===c.key&&h.a.post("/post/addcomment",{userId:S,comment:k,name:y,postId:e,avatar:P}).then((function(t){E(t.data.postRes)})).then((function(t){C("")})).catch((function(t){return console.log(t)})));var c}})})]}),Object(o.jsx)("div",{className:"comment pl-2 pt-4 pb-4 pr-2",children:D.map((function(t,c){var n=1;return t.userId===S&&(n=0),Object(o.jsx)(O,{name:t.name,content:t.content,time:t.timeComment,isFriend:n,id:t._id,postId:e,avatar:t.avatar},c)}))})]})})}}}]);
//# sourceMappingURL=7.ddd347a2.chunk.js.map