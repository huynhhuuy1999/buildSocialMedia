(this["webpackJsonpsocial-media-app"]=this["webpackJsonpsocial-media-app"]||[]).push([[8],{135:function(e,t,n){},187:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var a=n(49),c=n(1),r=n(66),i=n(65),u=n(50),o=n.n(u),s=n(0),l=n(15),f=n(11),b=n(53),j=n(67),d=n(24);n(135);function h(){var e=Object(f.c)((function(e){return e.user.name})),t=Object(f.c)((function(e){return e.user.email})),n=Object(f.c)((function(e){return e.user.avatar})),u=Object(f.c)((function(e){return e.user.userId})),h=Object(s.useState)(e),m=Object(a.a)(h,2),O=m[0],v=m[1],p=Object(s.useState)(""),g=Object(a.a)(p,2),x=g[0],y=g[1],w=Object(s.useState)(t),S=Object(a.a)(w,2),N=S[0],C=S[1],A=Object(l.d)(),I=Object(s.useState)(null),E=Object(a.a)(I,2),F=E[0],k=E[1],J=Object(s.useState)(n),D=Object(a.a)(J,2),M=D[0],P=D[1],T=Object(f.b)();Object(s.useEffect)((function(){if(null!==F){var e=new FormData;e.append("file",F,F.name);o.a.post("/user/changeavatar",e,{headers:{"content-type":"multipart/form-data"}}).then((function(e){console.log(e),P(e.data.filename);var t=Object(d.a)(e.data.filename);return T(t),e.data.filename})).then((function(e){o.a.post("/user/saveavatar",{filename:e,userId:u}).then((function(e){})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}}),[F]);return Object(c.jsxs)("div",{className:"shadow edit-user border p-3",children:[Object(c.jsx)("div",{className:"icon-edit d-flex justify-content-center align-items-center",children:Object(c.jsx)(i.a,{icon:r.b,color:"#FFF"})}),Object(c.jsx)("h3",{className:"text-center",children:"Edit Profile"}),Object(c.jsxs)("div",{className:"change-ava d-flex flex-column align-items-center",children:[Object(c.jsx)(b.a,{width:70,height:70,url:"/uploads/".concat(M)}),Object(c.jsx)("form",{children:Object(c.jsx)("input",{type:"file",name:"file",onChange:function(e){!function(e){if(e.target.files&&e.target.files[0]){var t=e.target.files[0];k(t)}}(e)}})})]}),Object(c.jsxs)("div",{className:"list-input",children:[Object(c.jsx)(j.a,{label:"Name",value:O,onChange:function(e){v(e.target.value)}}),Object(c.jsx)(j.a,{label:"About",value:x,onChange:function(e){y(e.target.value)}}),Object(c.jsx)(j.a,{label:"Email",value:N,onChange:function(e){C(e.target.value)}})]}),Object(c.jsx)("div",{className:"d-flex justify-content-center",children:Object(c.jsx)("button",{className:"w-50 mt-2 btn-save",onClick:function(){o.a.post("/user/edituser",{userId:u,name:O,email:N}).then((function(e){if("success"===e.data.status){var t={name:O,email:N},n=Object(d.b)(t);T(n),A.show("Saved")}})).catch((function(e){return console.log(e)}))},children:"Save"})})]})}},49:function(e,t,n){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,c=!1,r=void 0;try{for(var i,u=e[Symbol.iterator]();!(a=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(o){c=!0,r=o}finally{try{a||null==u.return||u.return()}finally{if(c)throw r}}return n}}(e,t)||function(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return c}))},53:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(1);n(0),n(61),n.p;function c(e){return Object(a.jsx)("div",{className:"ava",children:Object(a.jsx)("img",{src:e.url,width:e.width,height:e.height})})}},61:function(e,t,n){},67:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(1);n(0),n(68);function c(e){return Object(a.jsxs)("div",{className:"mb-4",children:[Object(a.jsx)("label",{className:"fs-1",children:e.label}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:e.type,value:e.value,placeholder:e.placeholder,onChange:e.onChange})]})}},68:function(e,t,n){}}]);
//# sourceMappingURL=8.958f089d.chunk.js.map