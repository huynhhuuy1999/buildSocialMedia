(this["webpackJsonpsocial-media-app"]=this["webpackJsonpsocial-media-app"]||[]).push([[7],{138:function(e,t,c){},139:function(e,t,c){},184:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return O}));var n=c(49),s=c(1),a=c(0),r=c(50),i=c.n(r),o=c(65),d=c(66),u=c(53),j=(c(138),c(11)),l=(c(139),c(87)),m=c(75),b=c.n(m);function h(e){var t=Object(a.useState)([]),c=Object(n.a)(t,2),r=c[0],o=c[1],d=Object(j.c)((function(e){return e.user.userId})),u=e.x;return Object(a.useEffect)((function(){i.a.get("/user/getuserid/"+d).then((function(e){i.a.post("/post/listpost",{userId:e.data.listUserId}).then((function(e){o(e.data.list)}))}))}),[u]),Object(s.jsxs)("div",{children:[r.map((function(e){var t=1,c="";return console.log(e.time),e.userId===d&&(t=0),void 0===e.time||(c=b()(e.time).format("DD-MM-YYYY hh:mm a")),Object(s.jsx)(l.a,{name:e.name,status:e.content,time:c,count:e.countLike,friend:t,idPost:e._id,comment:e.comment,avatar:e.avatar},e._id)})),u]})}function O(){var e=Object(a.useState)(""),t=Object(n.a)(e,2),c=t[0],r=t[1],l=Object(j.c)((function(e){return e.user.name})),m=Object(j.c)((function(e){return e.user.userId})),b=Object(j.c)((function(e){return e.user.avatar})),O=Object(a.useState)(!0),p=Object(n.a)(O,2),f=p[0],x=p[1],v="What's on your mind, ".concat(l);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"form-status border",children:[Object(s.jsxs)("div",{className:"header-form-status d-flex p-2",children:[Object(s.jsx)(u.a,{width:30,height:30,url:"/uploads/".concat(b)}),Object(s.jsx)("span",{className:"name",children:l})]}),Object(s.jsxs)("div",{className:"c-input-status p-2",children:[Object(s.jsx)("span",{children:"Add a status"}),Object(s.jsx)("br",{}),Object(s.jsx)("textarea",{value:c,className:"p-2 border",placeholder:v,onChange:function(e){return r(e.target.value)}})]}),Object(s.jsx)("div",{children:Object(s.jsx)("div",{className:"icon-photo p-2",children:Object(s.jsx)(o.a,{icon:d.a})})}),Object(s.jsx)("div",{className:"footer-form-status p-2",children:Object(s.jsx)("button",{onClick:function(){return function(e){i.a.post("/post/addpost",{userId:m,content:e,name:l,avatar:b}).then((function(e){r(""),x(!f)})).catch((function(e){console.log(e)}))}(c)},children:"Post"})})]}),Object(s.jsx)("div",{className:"mt-4",children:Object(s.jsx)(h,{x:f})})]})}},53:function(e,t,c){"use strict";c.d(t,"a",(function(){return s}));var n=c(1);c(0),c(61),c.p;function s(e){return Object(n.jsx)("div",{className:"ava",children:Object(n.jsx)("img",{src:e.url,width:e.width,height:e.height})})}},61:function(e,t,c){},77:function(e,t,c){},81:function(e,t,c){},82:function(e,t,c){},87:function(e,t,c){"use strict";c.d(t,"a",(function(){return x}));var n=c(98),s=c.n(n),a=c(100),r=c(49),i=c(1),o=c(0),d=c(65),u=c(66),j=c(53),l=c(194);c(77);function m(e){return Object(i.jsxs)("div",{className:"like",children:[Object(i.jsx)("button",{onClick:e.onClick,children:"Th\xedch"}),Object(i.jsx)(l.a,{count:e.count,offset:[-10,-20],children:Object(i.jsx)("a",{href:"#",className:"head-example"})})]})}var b=c(50),h=c.n(b),O=c(15);c(81);function p(e){var t=Object(o.useState)(0),c=Object(r.a)(t,2),n=c[0],s=c[1],a=Object(O.d)();return 0===n?Object(i.jsxs)("div",{className:"d-flex item-comment border-bottom border-secondary pb-1 pt-2",children:[Object(i.jsx)(j.a,{width:40,height:40,url:"/uploads/".concat(e.avatar)}),Object(i.jsxs)("div",{className:"pl-1 pr-1",children:[Object(i.jsx)("span",{className:"name-comment",children:e.name}),Object(i.jsx)("br",{}),Object(i.jsx)("span",{className:"c-comment",children:e.content}),Object(i.jsx)("br",{}),Object(i.jsx)("span",{className:"time",children:e.time}),Object(i.jsx)("br",{}),0===e.isFriend?Object(i.jsx)("span",{className:"comment-del",onClick:function(){h.a.post("/post/delcomment",{postId:e.postId,commentId:e.id}).then((function(e){"success"===e.data.status?(s(1),a.show("Comment Deleted")):a.show("ERROR")})).catch((function(e){console.log(e)}))},children:"X\xf3a"}):""]})]}):""}c(82);var f=c(11);c(75);function x(e){var t=e.idPost,c=Object(o.useState)(!1),n=Object(r.a)(c,2),l=n[0],b=n[1],x=Object(o.useState)(e.count),v=Object(r.a)(x,2),N=v[0],g=v[1],w=Object(o.useState)(""),I=Object(r.a)(w,2),k=I[0],C=I[1],S=Object(f.c)((function(e){return e.user.userId})),y=Object(f.c)((function(e){return e.user.name})),P=Object(f.c)((function(e){return e.user.avatar})),R=Object(o.useState)(e.comment),Y=Object(r.a)(R,2),D=Y[0],E=Y[1],F=Object(O.d)(),_=function(){var e=Object(a.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.a.post("/post/like",{postId:t,countLike:N+1}).then((function(e){g(N+1)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.jsx)("div",{children:!0===l?"":Object(i.jsxs)("div",{className:"new-feed border mt-2",children:[Object(i.jsxs)("div",{className:"header-new-feed p-2 d-flex",children:[Object(i.jsxs)("div",{className:"d-flex info",children:[Object(i.jsx)(j.a,{width:40,height:40,url:"/uploads/".concat(e.avatar)}),Object(i.jsxs)("div",{className:"name ml-1 mr-1",children:[Object(i.jsx)("span",{className:"name-x",children:e.name}),Object(i.jsx)("br",{}),Object(i.jsx)("span",{children:e.time})]})]}),0===e.friend?Object(i.jsx)("div",{className:"icon-del",onClick:function(){h.a.post("/post/delpost",{postId:t}).then((function(e){"success"===e.data.status&&(b(!0),F.show("Post deleted"))}))},children:Object(i.jsx)(d.a,{icon:u.c})}):""]}),Object(i.jsxs)("div",{className:"c-newfeed p-2 bg-light",children:[Object(i.jsx)("p",{className:"status",children:e.status}),Object(i.jsx)("div",{className:"list-emoji d-flex",children:Object(i.jsx)(m,{count:N,onClick:function(){return _()}})})]}),Object(i.jsxs)("div",{className:"comment pl-2 pt-4 pr-2 d-flex",children:[Object(i.jsx)(j.a,{width:40,height:40,url:"/uploads/".concat(e.avatar)}),Object(i.jsx)("div",{className:"input-comment ml-2",children:Object(i.jsx)("input",{type:"text",placeholder:"Add comment",className:"p-2",onChange:function(e){return C(e.target.value)},value:k,onKeyPress:function(e){return c=e,void(""!==k&&"Enter"===c.key&&h.a.post("/post/addcomment",{userId:S,comment:k,name:y,postId:t,avatar:P}).then((function(e){E(e.data.postRes)})).then((function(e){C("")})).catch((function(e){return console.log(e)})));var c}})})]}),Object(i.jsx)("div",{className:"comment pl-2 pt-4 pb-4 pr-2",children:D.map((function(e,c){var n=1;return e.userId===S&&(n=0),Object(i.jsx)(p,{name:e.name,content:e.content,time:e.timeComment,isFriend:n,id:e._id,postId:t,avatar:e.avatar},c)}))})]})})}}}]);
//# sourceMappingURL=7.3c9fbfc4.chunk.js.map